 <!DOCTYPE html>

<!-- <html lang="en" class="container-fluid"> -->
<html lang="en" class="bg-dark">

    <head>
        <meta charset="UTF-8">
        <title>Vocabulary ᕙ(⇀‸↼‶)ᕗ</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
                               integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
                               crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    </head>

    <body>
        <div id="app" class="container-fluid text-center bg-warning">
            <div class="row bg-danger h-100">

                <!-- Error -->
                <div v-if="display===-1">
                     Impossible d'accèder aux données
                 </div>

                <!-- Main -->
                <div v-else-if="display===0" class="container-fluid bg-dark">
                    <h4 class="bg-word my-4 mx-2 p-3">
                        {{ words[currentIndex].Word }} 

                         <small if="words[currentIndex].Type !== ''" class="h6 text-black-50">
                             ({{ words[currentIndex].Type }})
                         </small>
                    </h4>

                    <field title="Translation"  :text="words[currentIndex].Translation"></field>
                    <field title="Synonym"      :text="words[currentIndex].Synonym"></field>
                    <field title="Context"      :text="words[currentIndex].Context"></field>
                    <field title="Comment"      :text="words[currentIndex].Comment"></field>

                    <!-- Buttons -->
                    <div class="container mx-auto mt-5 p-1 h2 text-center cursor-pointer button-icon">
                        <span class="row">
                            <span @click="invert()" class="col-2 py-2"><i class="bi bi-shuffle"></i></span>
                            <span @click="display=1" class="col-2 py-2"><i class="bi bi-book"></i></span>
                            <span @click="sortHistory(), display=2" class="col-2 py-2"><i class="bi bi-clipboard2-check"></i></span>

                            <span @click="random()" class="col-6 py-2 h2"><i class="bi bi-arrow-right-square"></i></span>
                        </span>
                     </div>
                 </div>

                <!-- List -->
                <div v-else-if="display===1" @click="display=0" class=" data-bs-slide container-fluid bg-dark">
                        <div class="bg-dark col-list m-5 p-1">
                            <div v-for="(item, index) in words" class="elem-list cursor-pointer" @click="currentIndex=index">
                                 {{ item.Word }}
                             </div>
                         </div>
                 </div>

                <!-- History -->
                <div v-else-if="display===2" @click="display=0" class="container-fluid bg-dark" tabindex="-1">
                    <div class="bg-dark col-history m-5 p-1">
                        <div v-for="index in history" class="elem-history cursor-pointer" @click="currentIndex=index">
                             {{ words[index].Word }}
                        </div>
                     </div>
                 </div>
            </div>
        </div>

        <!-- Template Field -->
        <script type="text/x-template" id="field-template">

            <div v-if="text === ''" class="bg-dark text-muted font-italic border border-secondary m-2 p-3">
                {{ title }}
            </div>

            <div v-else @click="revealed = !revealed" class="m-2 p-3 cursor-pointer" 
                                                     :class="{'bg-field': !revealed, 'bg-field-revelated': revealed}">

                <span v-if="!revealed">
                    {{ title }}
                </span>
                <span v-else>
                    {{ text }}
                </span>
            </div>
        </script>

        <!-- Vue -->
        <script src="https://unpkg.com/vue@3"></script>
        <script src="main.js"></script>

    </body>
 </html>
